<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Login form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/index.css}">
</head>
<body>
<div style="margin-top: 150px">
    <form method="POST" th:action="@{/register}" id="regForm" class="col-lg-3 offset-lg-4">
        <h2>Регистрация</h2>
        <div class="form-outline mb-4">
            <input type="text" id="username" class="form-control" name="username"/>
            <label class="form-label" for="username">Логин</label>
        </div>

        <div class="form-outline mb-4">
            <input type="password" id="password" name="password" class="form-control"/>
            <label class="form-label" for="password">Пароль</label>
        </div>
        <div th:id="warning" style='display: none; color: red;'>
            <span>Пароли должны совпадать</span>
        </div>
        <div class="form-outline mb-4">
            <input type="password" id="repeatPassword" name="repeatPassword" class="form-control"/>
            <label class="form-label" for="repeatPassword">Повторите пароль</label>
        </div>
        <div class="row mb-4">
            <div class="col">
                <button type="submit" id="button" class="btn btn-dark btn-block mb-4">Зарегистрироваться</button>
            </div>
        </div>
    </form>
</div>
</body>
<script>
    window.onload = function () {
        const button = document.getElementById('button')
        button.addEventListener('click', e => {
            if (document.getElementById('password').value !== document.getElementById('repeatPassword').value) {
                e.preventDefault()
            } else {
                return true
            }
            document.getElementById('warning').style.display = 'block'
        })
    }
</script>

</html>


